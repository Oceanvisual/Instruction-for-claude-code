# üöÄ –ü—Ä–æ–º–ø—Ç –¥–ª—è –î–µ–ø–ª–æ—è –ú–æ–¥–µ–ª–∏ —Å FastAPI –∏ Docker

**–ó–∞–¥–∞—á–∞:** –£–ø–∞–∫–æ–≤–∞—Ç—å –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —Å–æ–∑–¥–∞–≤ API-—Å–µ—Ä–≤–∏—Å –Ω–∞ FastAPI –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π.

---

### üìù –ö–æ–Ω—Ç–µ–∫—Å—Ç –ó–∞–¥–∞—á–∏

* **–ê—Ä—Ç–µ—Ñ–∞–∫—Ç –º–æ–¥–µ–ª–∏:** `[–ù–∞–ø—Ä–∏–º–µ—Ä, 'best_lgbm_model.joblib']`
* **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Å—Ö–µ–º–∞):** `[–û–ø–∏—à–∏ –ø—Ä–∏–∑–Ω–∞–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥–µ–ª—å –æ–∂–∏–¥–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥, –∏ –∏—Ö —Ç–∏–ø—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä: {'age': int, 'income': float, 'city': str}]`
* **–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Å—Ö–µ–º–∞):** `[–û–ø–∏—à–∏, —á—Ç–æ –º–æ–¥–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä: {'prediction': int, 'probability': float}]`

---

### üèõÔ∏è –ß–∞—Å—Ç—å 0: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø–∏—Å–∞—Ç—å –∫–æ–¥, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –ö–æ–¥ –∏–∑ Jupyter –Ω–æ—É—Ç–±—É–∫–æ–≤ —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –¥–ª—è –¥–µ–ø–ª–æ—è.

1.  **–°–æ–∑–¥–∞–π —á–∏—Å—Ç—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:**
    * –î–ª—è –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø–∞–ø–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `app/` –∏–ª–∏ `service/`).
    * **–≠—Ç–æ –ª—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞**, —Ç–∞–∫ –∫–∞–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Docker-–æ–±—Ä–∞–∑ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–Ω–æ—É—Ç–±—É–∫–æ–≤, –¥–∞–Ω–Ω—ã—Ö) –∏ –¥–µ–ª–∞–µ—Ç —Å–±–æ—Ä–∫—É –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π.

2.  **–ü–µ—Ä–µ–Ω–µ—Å–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
    * –ü–µ—Ä–µ–Ω–µ—Å–∏ –≤ —ç—Ç—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –º–æ–¥–µ–ª–∏ —Ñ–∞–π–ª—ã, –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å ‚Äî **—Ñ–∞–π–ª —Å —Å–∞–º–æ–π –º–æ–¥–µ–ª—å—é**.

3.  **–û–ø—Ä–µ–¥–µ–ª–∏ —Ä–∞–±–æ—á–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ:**
    * –í—Å–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã (`main.py`, `requirements.txt`, `Dockerfile`) –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ –∏–ª–∏ —Ä—è–¥–æ–º —Å —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —á–∏—Å—Ç–æ—Ç—ã Docker-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

---

### üêç –ß–∞—Å—Ç—å 1: –°–æ–∑–¥–∞–Ω–∏–µ FastAPI –°–µ—Ä–≤–∏—Å–∞ (`main.py`)

–ù–∞–ø–∏—à–∏ –∫–æ–¥ –¥–ª—è Python-—Å–∫—Ä–∏–ø—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —è–¥—Ä–æ–º –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.

1.  **–ó–∞–≥—Ä—É–∑–∫–∞ –ú–æ–¥–µ–ª–∏:**
    –†–µ–∞–ª–∏–∑—É–π –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥–µ–ª–∏ –∏–∑ —Ñ–∞–π–ª–∞. –í–∞–∂–Ω–æ: –º–æ–¥–µ–ª—å –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ –ø–∞–º—è—Ç—å **–æ–¥–∏–Ω —Ä–∞–∑** –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –Ω–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ.

2.  **–ú–æ–¥–µ–ª—å –î–∞–Ω–Ω—ã—Ö (Pydantic):**
    –°–æ–∑–¥–∞–π Pydantic-–∫–ª–∞—Å—Å (`BaseModel`) –¥–ª—è —Å—Ç—Ä–æ–≥–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ü–æ–ª—è –∫–ª–∞—Å—Å–∞ –¥–æ–ª–∂–Ω—ã —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å—Ö–µ–º–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

3.  **Endpoint –¥–ª—è –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è:**
    –°–æ–∑–¥–∞–π **POST-—ç–Ω–¥–ø–æ–∏–Ω—Ç** —Å –∞–¥—Ä–µ—Å–æ–º `/predict`. –û–Ω –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å JSON, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π Pydantic-–º–æ–¥–µ–ª–∏, –¥–µ–ª–∞—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

---

### üì¶ –ß–∞—Å—Ç—å 2: –§–∞–π–ª –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`requirements.txt`)

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `requirements.txt`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏:
* `fastapi`
* `uvicorn[standard]`
* –ë–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—å—é (`scikit-learn`, `lightgbm`, –∏ —Ç.–¥.)
* –ë–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏ (`joblib`)

---

### üê≥ –ß–∞—Å—Ç—å 3: –°–æ–∑–¥–∞–Ω–∏–µ Docker-–æ–±—Ä–∞–∑–∞ (`Dockerfile`)

–ù–∞–ø–∏—à–∏ `Dockerfile` –¥–ª—è —Å–±–æ—Ä–∫–∏ –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã–π –æ–±—Ä–∞–∑.

1.  **–ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑:**
    –ò—Å–ø–æ–ª—å–∑—É–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –æ–±—Ä–∞–∑ Python, –Ω–∞–ø—Ä–∏–º–µ—Ä `python:3.9-slim`.

2.  **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:**
    –ù–∞—Å—Ç—Ä–æ–π –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –æ–±—Ä–∞–∑ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —Å–æ–∑–¥–∞–Ω–Ω–æ–π –≤ –ß–∞—Å—Ç–∏ 0.

3.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
    –î–æ–±–∞–≤—å –∫–æ–º–∞–Ω–¥—É –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏–∑ `requirements.txt` —Å –ø–æ–º–æ—â—å—é `pip`.

4.  **–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞:**
    –£–∫–∞–∂–∏ –∫–æ–º–∞–Ω–¥—É (`CMD`) –¥–ª—è –∑–∞–ø—É—Å–∫–∞ `uvicorn` —Å–µ—Ä–≤–µ—Ä–∞. –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–π `host='0.0.0.0'`.

---

### ‚öôÔ∏è –ß–∞—Å—Ç—å 4: –°–±–æ—Ä–∫–∞ –∏ –ó–∞–ø—É—Å–∫

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å –≥–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Docker.

1.  **–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–±–æ—Ä–∫–∏:**
    –ù–∞–ø–∏—à–∏ –∫–æ–º–∞–Ω–¥—É `docker build` –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ —Å –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–º —Ç–µ–≥–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ml-prediction-service:latest`).

2.  **–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞:**
    –ù–∞–ø–∏—à–∏ –∫–æ–º–∞–Ω–¥—É `docker run` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ù–µ –∑–∞–±—É–¥—å –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –ø–æ—Ä—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `-p 8000:8000`).

---

### üß† –ß–∞—Å—Ç—å 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –°–∞–º–æ–∫—Ä–∏—Ç–∏–∫–∞

–û–±—ä—è—Å–Ω–∏, –∫–∞–∫ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏ –ø–æ–¥—É–º–∞–π –Ω–∞–¥ —É–ª—É—á—à–µ–Ω–∏—è–º–∏.

1.  **–ü–ª–∞–Ω –ø—Ä–æ–≤–µ—Ä–∫–∏:**
    –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞? –û–ø–∏—à–∏ –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞: —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Swagger UI –∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É —Å –ø–æ–º–æ—â—å—é `curl`.

2.  **–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–°–∞–º–æ–∫—Ä–∏—Ç–∏–∫–∞):**
    –ö–∞–∫–∏–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –º–æ–∂–Ω–æ –≤–Ω–µ—Å—Ç–∏ –≤ —ç—Ç–æ—Ç `Dockerfile` –¥–ª—è **production-—Å—Ä–µ–¥—ã**? –ü—Ä–µ–¥–ª–æ–∂–∏ –∏ –∫—Ä–∞—Ç–∫–æ –æ–±–æ—Å–Ω—É–π –æ–¥–Ω—É –∏–¥–µ—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–Ω–æ–≥–æ—Å—Ç–∞–¥–∏–π–Ω–æ–π —Å–±–æ—Ä–∫–∏, –∑–∞–ø—É—Å–∫ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ root-–ø—Ä–∞–≤).



